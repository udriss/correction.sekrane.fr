<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test SVG Display</title>
</head>
<body>
    <h1>Test d'affichage SVG</h1>
    
    <h2>SVG Direct</h2>
    <svg width="100" height="100" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="40" stroke="black" stroke-width="3" fill="red" />
    </svg>
    
    <h2>SVG via IMG avec source externe</h2>
    <img src="data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='50' cy='50' r='40' stroke='black' stroke-width='3' fill='blue' /%3E%3C/svg%3E" alt="SVG Test" />
    
    <h2>Test de l'API Media avec SVG réel</h2>
    <img src="/api/media/test/test.svg" alt="SVG via API Media" style="border: 1px solid #ccc; max-width: 200px;" />
    
    <h2>Test direct du fichier SVG</h2>
    <img src="/uploads/test/test.svg" alt="SVG direct" style="border: 1px solid #ccc; max-width: 200px;" />
    
    <div id="test-api-result"></div>
    
    <script>
        // Test de l'API media avec un SVG réel
        fetch('/api/media/test/test.svg')
            .then(response => {
                if (response.ok) {
                    console.log('Content-Type:', response.headers.get('content-type'));
                    return response.text();
                } else {
                    return `Status: ${response.status} - ${response.statusText}`;
                }
            })
            .then(data => {
                document.getElementById('test-api-result').innerHTML = 
                    `<p>API Response Status: OK</p><p>Content-Type dans les headers: ${data.includes('<svg') ? 'SVG détecté' : 'Pas de SVG'}</p>`;
            })
            .catch(error => {
                document.getElementById('test-api-result').innerHTML = 
                    `<p>Error: ${error.message}</p>`;
            });
    </script>
</body>
</html>
